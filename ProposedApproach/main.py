from MachineLearningModule import MachineLearningFlow
from FeatureExtractionModule import FeatureExtraction
from Util import Util


def main():
    # Path to the dataset's CSV file
    dataset_path = "Datasets/Drebin.csv"

    # Classifiers (RF | SVM | KNN | NB | MLP)
    ml_algorithm = "RF"

    # Path to the APK file
    apk_path = "APK files/App1.apk"

    # Machine learning module
    classifier, most_relevant_features, evaluation_metrics = MachineLearningFlow.machine_learning_flow(dataset_path, ml_algorithm)

    # Feature extraction module
    extracted_features = FeatureExtraction.feature_extraction(apk_path, most_relevant_features)

    # Prediction
    print("\nPrediction:", classifier.predict(extracted_features))

    # Printing the evaluation metrics
    Util.print_evaluation_metrics(evaluation_metrics)


if __name__ == '__main__':
    main()
