# Malware Detection in Android Applications with Machine Learning Techniques

Repository for the code developed in the context of my thesis entitled "Malware Detection in Android Applications with Machine Learning Techniques" for the master's degree in IT and Computers Engineering at ISEL.

The dissertation will soon be available [here](). 

## Table of contents
- [Overview](#overview)
- [Proposed Approach](#proposed-approach)
    - [Datasets](#datasets)
    - [Tools](#tools)

# Overview

The presence of malicious software (malware), for example, in Android applications (apps), has harmful or irreparable consequences to the user and/or the device. Despite the protections app stores provide to restrict apps containing malware, it keeps growing in sophistication and diffusion.

In this thesis, a prototype that resorts to Machine Learning (ML) techniques to detect malware in Android
applications was developed. Different data pre-processing, dimensionality reduction, and classification techniques were applied, assessing the generalisation ability of the learned models using public domain datasets. Emphasises was given to Feature Selection (FS), which reduces the data’s dimensionality and identifies the most relevant features in Android
malware classification.

From this thesis, the following papers have been published.

- Catarina Palma, Artur Ferreira, and Mário Figueiredo, "[On the use of machine
learning techniques to detect malware in mobile applications](https://www.inforum2023.org/Atas/paper_6478/6478-CR.pdf)", Simpósio em
Informática (INForum), September 2023, Porto, Portugal. Also available in [ResearchGate](https://www.researchgate.net/publication/374005376_On_the_use_of_machine_learning_techniques_to_detect_malware_in_mobile_applications).

- Catarina Palma, Artur Ferreira, and Mário Figueiredo, "[A study on the role of
feature selection for malware detection on Android applications](https://www.conftool.pro/recpad2023/index.php?page=browseSessions&form_session=8#paperID127)", Portuguese
Conference on Pattern Recognition (RECPAD), October 2023, Coimbra, Portugal. Also available in [ResearchGate](https://www.researchgate.net/publication/375005075_A_study_on_the_role_of_feature_selection_for_malware_detection_on_Android_applications).


# Proposed Approach

The problem is formulated as a binary classification problem. The aim is to classify a given Android application as malicious (positive) or benign (negative).
Each component integrating the proposed approach or enabling its assessment is briefly described next.

<p align="center">
    <img src="Resources/ProposedApproach.png" width="450px" alt="ProposedApproach" />
</p>

__Machine Learning module__ - Component responsible for building, improving and evaluating the ML model
that will classify Android applications as benign or malicious. 

__Feature extraction module__ - Extracts static features from an Android application’s Android Package Kit (APK) file. It maps them with the features deemed more relevant of the presence of malware in
Android applications. This mapping results in the input data provided to the model, which can then classify/predict the Android application as benign or malicious.

__Android applications__ - Allow an assessment of the developed prototype with real-world apps.


## Datasets

Public domain datasets were used in the development and assessment of the prototype of the proposed approach.
- [Drebin](https://www.kaggle.com/datasets/shashwatwork/android-malware-dataset-for-machine-learning)
- [CICAndMal2017]( https://www.kaggle.com/datasets/saurabhshahane/android-permission-dataset)
- [Android Malware (AM)](https://www.kaggle.com/datasets/saurabhshahane/android-malware-dataset)
- [Android Malware static feature (AMSF)](https://www.kaggle.com/datasets/laxman1216/android-static-features-datasets6-features)


## Tools

Software tools used in the development and assessment of the proposed approach's prototype.
- [Python](https://www.python.org/)
- [scikit-learn](https://scikit-learn.org/stable/)
- [NumPy](https://numpy.org/)
- [pandas](https://pandas.pydata.org/)
- [PyCharm](https://www.jetbrains.com/pycharm/)
- [Androguard](https://pypi.org/project/androguard/)
- [Kotlin](https://kotlinlang.org/)
- [Android Studio](https://developer.android.com/studio)

__Note:__ The [`requirements.txt`](https://github.com/CatarinaPalma-325/Android-Malware-Detection-with-Machine-Learning/blob/main/ProposedApproach/requirements.txt) file specifies the dependencies required to run this project. You can use it to set up the same dependencies.


